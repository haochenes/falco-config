# Falco Cross-Compilation Configuration
# Edit this file to configure your cross-compilation environment

# =============================================================================
# Sysroot Configuration
# =============================================================================
# Path to the target sysroot (containing target libraries and headers)
SYSROOT="/opt/ti-processor-sdk-linux-adas-j721e-evm-09_02_00_05/linux-devkit/sysroots/aarch64-oe-linux"

# =============================================================================
# Cross-Compiler Configuration
# =============================================================================
# Path to the cross-compiler toolchain directory
CROSS_COMPILE_PREFIX="/opt/cross-compile/arm-gnu-toolchain-11.3.rel1-x86_64-aarch64-none-linux-gnu/"

# Cross-compiler target triple
CROSS_COMPILE_TRIPLE="aarch64-none-linux-gnu"

# =============================================================================
# Build Configuration
# =============================================================================
# Build type: Release, Debug, RelWithDebInfo, MinSizeRel
BUILD_TYPE="Release"

# Number of parallel jobs (default: auto-detect)
# JOBS=8

# Strip binary after build (ON/OFF)
STRIP_BINARY="ON"

# =============================================================================
# Falco Build Options
# =============================================================================
# Build driver (requires kernel headers)
BUILD_DRIVER="OFF"

# Build BPF probe
BUILD_BPF="OFF"

# Build modern BPF (recommended: no .ko needed on board; use engine.kind: modern_ebpf in falco.yaml)
# Set to ON for Falco 0.32+ recommended path; board kernel needs BTF (typically 5.8+).
BUILD_MODERN_BPF="ON"

# Minimal build (reduces dependencies). With BUILD_MODERN_BPF=ON you may leave ON.
MINIMAL_BUILD="OFF"

# =============================================================================
# Falco kernel module (falco.ko) for target board
# =============================================================================
# Set to ON to build falco.ko against the kernel tree below (e.g. TDA4 ti-linux-kernel).
# Requires LINUX_KERNEL_SRC to be set and the kernel to be built (or at least modules_prepare).
BUILD_KMOD="ON"

# Path to target Linux kernel source (same kernel running on the board, e.g. TDA4).
# Used when BUILD_KMOD=ON to compile the Falco kernel module (falco.ko).
# Expand ~ to your home, e.g. /home/carlos/work/tda4-bsp/bsp/ti-linux-kernel
LINUX_KERNEL_SRC="/home/carlos/work/tda4-bsp/bsp/ti-linux-kernel"
